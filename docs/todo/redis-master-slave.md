首先谈谈我对主从模式的必要性：
•	主从模式的一个作用是备份数据，这样当一个节点损坏（指不可恢复的硬件损坏）时，数据因为有备份，可以方便恢复。
•	另一个作用是负载均衡，所有客户端都访问一个节点肯定会影响Redis工作效率，有了主从以后，查询操作就可以通过查询从节点来完成。
　　对主从模式必须的理解（结论已经验证过，可以自行验证）：

1.	一个Master可以有多个Slaves
2.	默认配置下，master节点可以进行读和写，slave节点只能进行读操作，写操作被禁止
3.	不要修改配置让slave节点支持写操作，没有意义，原因一，写入的数据不会被同步到其他节点；原因二，当master节点修改同一条数据后，slave节点的数据会被覆盖掉
4.	slave节点挂了不影响其他slave节点的读和master节点的读和写，重新启动后会将数据从master节点同步过来
5.	master节点挂了以后，不影响slave节点的读，Redis将不再提供写服务，master节点启动后Redis将重新对外提供写服务。
6.	master节点挂了以后，不会slave节点重新选一个master

　　对有密码的情况说明一下，当master节点设置密码时：
•	客户端访问master需要密码
•	启动slave需要密码，在配置中进行配置即可
•	客户端访问slave不需要密码

1.1 主从节点的缺点
　　主从模式的缺点其实从上面的描述中可以得出：
•	master节点挂了以后，redis就不能对外提供写服务了，因为剩下的slave不能成为master
　　这个缺点影响是很大的，尤其是对生产环境来说，是一刻都不能停止服务的，所以一般的生产坏境是不会单单只有主从模式的。所以有了下面的sentinel模式。



---

- [Redis 教程合集](https://mp.weixin.qq.com/s/iivXrj1cfTiPy89ueE_53Q)（微信左下方**阅读全文**可直达）。


---

扫码关注微信公众号 **程序员35** ，获取最新技术干货，畅聊 #程序员的35，35的程序员# 。独立站点：[https://cxy35.com](https://cxy35.com)

![](https://oscimg.oschina.net/oscnet/up-285838b9c516db5bb1ba760f292f2346078.JPEG)